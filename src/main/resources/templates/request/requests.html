<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:include="~{/fragments/head}"></th:block>
</head>
<body>
<header>
    <th:block th:include="~{/fragments/navbar}"></th:block>
</header>
<table class="table table-hover w-75 mx-auto">
    <thead>
    <tr class="row mx-auto">
        <th class="col-md-2 text-center">Client Name</th>
        <th class="col-md-3 text-center">Client Phone Number</th>
        <th class="col-md-2 text-center">Number Of Days</th>
        <th class="col-md-2 text-center">Expires On</th>
        <th class="col-md-3 text-center">Complete</th>
    </tr>
    </thead>
    <tbody>

    <th:block th:each="r : ${requests}" th:object="${r}">
        <tr class="row mx-auto">
            <td class="col-md-2 text-center" th:text="*{clientName}"></td>
            <td class="col-md-3 text-center" th:text="*{phoneNumber}"></td>
            <td class="col-md-2 text-center" th:text="*{days}"></td>
            <td class="col-md-2 text-center" th:text="${#temporals.format(r.expiresTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
            <td class="col-md-3 text-center">
                <form th:action="@{/requests/complete}" th:method="post">
                    <div class="button-holder d-flex justify-content-center">
                        <input type="hidden" name="id" th:value="*{id}">
                        <button type="submit" class="btn btn-danger">Complete</button>
                    </div>
                </form>
            </td>
        </tr>
    </th:block>
    </tbody>
</table>

<!--<table class="table">-->
<!--    <thead class="thead-dark">-->
<!--    <tr>-->
<!--        <th scope="col">#</th>-->
<!--        <th scope="col">Client Name</th>-->
<!--        <th scope="col">Client Phone Number</th>-->
<!--        <th scope="col">Number of Days</th>-->
<!--        <th scope="col">Expires On</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    <tr th:each="r : ${requests}" th:object="${r}">-->
<!--        <th scope="row" >1</th>-->
<!--        <td class="col-md-2 text-center" th:text="*{clientName}">Name</td>-->
<!--        <td class="col-md-2 text-center" th:text="*{phoneNumber}">Phone</td>-->
<!--        <td class="col-md-2 text-center" th:text="*{days}">Days</td>-->
<!--        <td class="col-md-2 text-center" th:text="*{expiresTime}">Expires</td>-->
<!--        <td class="col-md-2 text-center">-->
<!--            <form th:action="@{/request/complete}" th:method="delete">-->
<!--                <div class="button-holder d-flex justify-content-center">-->
<!--                    <input type="hidden" name="id" th:value="*{id}">-->
<!--                    <button type="submit" class="btn btn-danger">Complete</button>-->
<!--                </div>-->
<!--            </form>-->
<!--        </td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--</table>-->


<footer>
    <th:block th:include="~{/fragments/footer}"></th:block>
</footer>
</body>
</html>